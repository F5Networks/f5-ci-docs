Statistics
``````````

The LWP can provide statistics to a configured Splunk server or to an F5 statistics gatherer and visualizer.

Global Stats
~~~~~~~~~~~~

-  splunk source: lwp.transaction
-  splunk sourcetype: f5:lwp.stats:json
-  Frequency: periodic (controlled by ``LWP_CONFIG`` environment variable)

+--------------------------+----------------------------------------------------------------------------------+
| Name                     | Description                                                                      |
+==========================+==================================================================================+
| tot_requests             | Number of HTTP requests received from the clients                                |
+--------------------------+----------------------------------------------------------------------------------+
| clientside_tot_conns     | Number of TCP connections received from the clients                              |
+--------------------------+----------------------------------------------------------------------------------+
| clientside_cur_conns     | Current number of active TCP connections to the clients                          |
+--------------------------+----------------------------------------------------------------------------------+
| clientside_max_conns     | Maximum number of active TCP connections to the clients since the start of LWP   |
+--------------------------+----------------------------------------------------------------------------------+
| clientside_bytes_in      | Number of bytes read from the clients                                            |
+--------------------------+----------------------------------------------------------------------------------+
| clientside_bytes_out     | Number of bytes written to the clients                                           |
+--------------------------+----------------------------------------------------------------------------------+
| serverside_tot_conns     | Number of TCP connections opened to the servers                                  |
+--------------------------+----------------------------------------------------------------------------------+
| serverside_cur_conns     | Current number of active TCP connections to the servers                          |
+--------------------------+----------------------------------------------------------------------------------+
| serverside_max_conns     | Maximum number of active TCP connections to the servers since the start of LWP   |
+--------------------------+----------------------------------------------------------------------------------+
| server_latency           | Average time (in milliseconds) to connection to a server                         |
+--------------------------+----------------------------------------------------------------------------------+
| max_server_latency       | Maximum time (in milliseconds) to connection to a server                         |
+--------------------------+----------------------------------------------------------------------------------+
| failed_tcp_conns         | Number of TCP connections that have failed                                       |
+--------------------------+----------------------------------------------------------------------------------+

TCP Transaction Stats
~~~~~~~~~~~~~~~~~~~~~

-  splunk source: lwp.transaction
-  splunk sourcetype: f5:lwp.stats:json
-  Frequency: per connection

+----------------------+--------------------------------------------------------------------+
| Name                 | Description                                                        |
+======================+====================================================================+
| client_ip            | IP Address of the connection                                       |
+----------------------+--------------------------------------------------------------------+
| client_port          | TCP Port of the connection                                         |
+----------------------+--------------------------------------------------------------------+
| pool_member_name     | ID of the particular server pool member (embeds the server name)   |
+----------------------+--------------------------------------------------------------------+
| pool_member_ip       | IP address for the particular server pool member                   |
+----------------------+--------------------------------------------------------------------+
| pool_member_port     | TCP port of the particular server pool member                      |
+----------------------+--------------------------------------------------------------------+

HTTP Transaction Stats
~~~~~~~~~~~~~~~~~~~~~~

-  splunk source: lwp.transaction
-  splunk sourcetype: f5:lwp.stats:json
-  Frequency: per request

+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| Name                      | Description                                                                                                                           |
+===========================+=======================================================================================================================================+
| client_ip                 | IP address of the connection associated with this request                                                                             |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| client_port               | TCP port of the connect associated with this request                                                                                  |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| client_user               | HTTP basic authentication user                                                                                                        |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| ttfb                      | time-to-first-byte: Time (in milliseconds) between when the request was received and starting to write out the response headers       |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| ttlb                      | time-to-first-byte: Time (in milliseconds) between when the request was received and writing out the last byte of the response body   |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| response_status_code      | HTTP response code (e.g. 200)                                                                                                         |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| http_version              | HTTP protocol version being used by the client (e.g. "1.1")                                                                           |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| method_name               | HTTP method for this request (e.g. "POST")                                                                                            |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| request_date              | Time (in milliseconds) when this request was received                                                                                 |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| pool_member_name          | ID of the particular server pool member (embeds the server name)                                                                      |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| pool_member_ip            | IP address for the particular server pool member                                                                                      |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| pool_member_port          | TCP port of the particular server pool member                                                                                         |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| url                       | URL for the HTTP request                                                                                                              |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| user_agent                | HTTP user agent of the client                                                                                                         |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| referrer                  | HTTP referer which indicates the originating URI                                                                                      |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| request_headers_size      | Size (in bytes) of the request headers                                                                                                |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| request_body_size         | Size (in bytes) of the request body                                                                                                   |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| response_headers_size     | Size (in bytes) of the response headers                                                                                               |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+
| response_body_size        | Size (in bytes) of the response body                                                                                                  |
+---------------------------+---------------------------------------------------------------------------------------------------------------------------------------+


