kind: ConfigMap
apiVersion: v1
metadata:
  name: f5-asp-config
  namespace: kube-system
data:
  asp.config.json: |
    {
      "global": {
        "console-log-level": "info",
        "ephemeral-store": {
          # Cluster IP address of the ephemeral store Service
          "host": "<ephemeral-store-service_cluster-IP>",
          "port": 8087
          "components": {
            "health": {
              "nodes": [
                # values should match the node name/IP on which the ASP daemonset will be running.
                "<kub-node1-id>",
                "<kub-node2-id>",
                "<kub-node3-id>",
                "<...>"
              ]
              "replication-count": 2
            }
          }
        }
      },
      "orchestration": {
        "kubernetes": {
          "config-file": "/var/run/kubernetes/proxy-plugin/service-ports.json",
          "poll-interval": 500
        }
      }
    }
