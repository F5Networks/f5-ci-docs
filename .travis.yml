language: python
env:
  global:
  - secure: NyLCqek6v2Kk+ARNwcaN6X9odromqQqXhWju6ZhwyYEYz1uIJkL6l3og379jnp8D8yY+6JnnH/xzNwzZuaM6jNuXe8G1wnL+hFrL4hyCVCXgmggiOf/3ieVzAJb2h4JSziKJxV3UOrMfM/AvYHHH0zfdHXwW5AkeRzLKdPJMHujM+pxYf6QvAaDcGfcYgEDaFjb6AR2QaXFM6xfcSlZgi2bvzw2dJyEn/uzR+WIfKdFUs9mk0E/HHZYh1vcKAxi7Lhf7UdiIC2qqm5d135AVPRrfMp9ONJ2pCWJKWfQHJV1FlqhFaQ5hZKX7PpxbbL5Q9mIUlDww8iXb9mnaphOpmXNKZHkCOOCyA577sJjy6EpYF0KydiR7+kS2vmtpmpfaPaH0OVb/3aopmnOTcplP+F48NiEjytLDAZHtVhcQYG52ifiSgpA19zfurqZYs1jMuxf3WcihSX/PNU6wY//W3q/ftMD92pJN5BXgJ1BAJ3BTAFs+2EIKH9yFi+hT7AT7UE9Gv/VEiuKT2Mz0kp2XTtS1UuPOI4yCxU8KdWbItmRdn0ieUDZ+zmSpGt16WgJJS/vQ7gbGzeUe5aaXlaDDmBTNfbDEwB6dWSM88VaomUoPu07ca+EGMeRtkc0PyHJTvfZD07JwEqQBpNVRqQle0TEbE9LeY1rrRhhlOogWm8Y=
  - secure: mc2o9WmomC1mzrbn4A/yrNZgR7KjS7baZe6I9cjUT7UdlIFtLt6+eN//pPJ4vfUvrb68cFFOiVffNKGjFhM+fF53aW9iGW+jA/dIH6KRFSUBFUeiX3MAgOk/ZldF710k4aE5DH5V8KIq/CqpvK0Rds1UL0ixW/myfRYKt6zubG7gRcnfSIjUUv9LqKjvYyfIOZvdPIRDwQWfDFUcfPGTNt9cIgw3FhtZjR7o17uIz4A0iuKSdQirPqO4DwMX61x8zVj/PuB3fecB0YkW4uER47hQIig84wkJDCaO0hHKKL+iwljCmRPxOvn18gWh5eevQWAVsmtQCLktwH+AUfROtC+wOutVDbyNnQbf6pN8L2KjWDShQtIlztyjbpxSUB3fFkdS5HVe5YhfCjYqLZ6FnKyZPKOUTuhsZ3uMVMsF5oDZTpsu35GUOyn/hIqj+gCOg/uS9YKU7tdRP5EcdfSsr+xQGn4uG/P9t1JCK5OnxkQswusx6VryvF0giErES8ZcUE9b2nu52UBb8mb0rDimoILeSMasYz5N92KrhqM64se8Thyi+TOgEBvJkF6cnWMPTZE28zjl0QCJtDICZqntWDylimy7RHj9vmBVaqOxg8Risxc6a3BRHa3EgVDv5BfHp6juXjBms68SEi4WaBUEo+66nKwLC4KOBZyjtmc0OhA=
  # STAGING BUCKET
  - secure: "SdFBmIpjUApQy8xWTdA1k2RTWYCzg2poeC0rOE7moiAoyE4NlVsMf2J26UpoJPDsMWjmapalfkAnxL0/+b5LB4Xm2aGGcwbRiQW6bZmgfgZfhXVPgeX9eQOUXbQIa9dNN6248t1DEA0C2ztuF6nzYqqsS+oP3v9Dzru3odSWe+Rn4nBIr0/Icz5fpRq0GktCPpUumm4wYekGHgVs7U1y4i9ACxANYQupM5VOQEt37t5ZDSajaCpYG1ECTIX5257ZKsKIT/Y2H3vcTMBeMdRmUCMt/Hs6EyiZmBEh2cJ6+YlzlGcf95d8rsrAq6pnjg0bOYKxEz0BHBj+Lecj4ERmh62vZ2nuHkpNeq4CpYGS02KQAgYx7sAlYyc02XQj69LU34DjJ1qK9jdznT8FKbkm1FQyfiVQDvGDDvV1NmnEHpWIMaeCkQ10MKkAKXOupcQXVDaujuLH6OidVexxjbnZ9uFASpxWCwFaHc6Yjepa7cAV2a8L7SFn8B1dLeT+M62CF28cHNAaZW8i03kSuN0KihUOIfzkmrLqgwWmCFjDnuIIMzuwuREcuvxYnqR8BiNNc01rzPR+D2PakxGryn20AS04R8kGWyseBAJlK4gEhXoaUoh/a8+2hQB0gpt9PG7ldHEAvpR61Qqp3vXzTpHBLZTRpbUdRDRkc3EOMkW8o3c="
  # STAGING ACCESS ID
  - secure: "td5A63wPahw+GD1KaYRy1jAtQjZ+SR4dSThMzaxCfifs7cE48Fqb3/Qctm08mrWXgiZ7NDfXsmm1Z16tDRs9yQRsIDC6DUYmvRCWYQcyQj4tZoeW6q/q+DVSop3wjxrIh9SfCF1MDt0rsY371V1zyIxj5dp1KXxvw/IWCN7lg1WHtxZPI35iBPbQuJiUrlOARO7is50niko5jJzOP3kTnXQyE+to+osDAvygq/UA+e4WGDADrwnG5U7/OU7RBXipykMPzmdQ6ahD4T5jO6wGGBGGH3yOzsppIEDeKYfXRDiQSO8faspHr7IQsCdIyX6MjoPBUhvLbQvUkn93JtPKSrAcMPFuh+AUCr+iEI9B82S+cCbxlUnjfQNebIBva92yuZPXkySoOOqdHjhN6BIeYg2IhP+HwTyq9Tm/80KRhZ9kk7p5+L3/RFjrqdWnDg2V2sPC6q7zUgI8r4RiQjVkb0mjM0A55sTSjgQCoW/4zOP06uDYJvf8RYfx6dXnIgYckhGGN01APj4F7ygHBAJ5qhMA/uZDBOHrDS/1EQcLPuUFZs5jNYJkUmdXjS7fQawFuDK5+MhHhBLnAy7xGhvZb1PJt1fVk53CRCpw13Jbe2FSP1gGp5/pnNfkaUlNBnuFcnFcEZEMq+6xB8gl3imSyUapgh3744tA1QLHEMRbZQg="
  # STAGING ACCESS KEY
  -  secure: "wuSZTyoAIZ0o+eB12qOv7DfsYDfC3BNQ3Pwprasl4ortDaAavBYlVZPpxZWgDWGiUZ9S8DFa8w7wwrn9e8zJWND/zuiDX9aWxupAC8PM1LixkEdg19QQTA1BIMNW3iEIcUuxOIwMvJHjjUzcm1QpbX7UK/RBGQv4/zaVfmuHPkI23g7bNG9zz/E2nA1u1ghbpOGl/X5M7QCfJHFUi41IPxqNkuJJwDqFW0joTIpVlxMLOBi9X/0CTnFEi/XEr/cscNdvvcDFpty5YFq3td5CL4vA2AHZkzjUY1q8pA/xHreB2iNcx5qIi8BG2p6S3SFy0Cg1Ep9Z3HRfdXfkMWSEMUXiB748StBR0jLnowMK1GrErPwb+fPoloXAfWlwfTJVdPZyIWRU3sTyIWPOFBbT5aBKCaUhGGmOP2uqKQDGWxHZOa8IJCfOcHnrQfW1kI6B1HmzJcL6bn9tijzwCUpPQEQakpsRuV+RdFDg3BAx3f7Juyg+CNxzYykOlftUTU5wzg0kQ1NnvT+cFB9mft4Z+m9WxlbvmVNGKRhHNQ6B2JgcxpWDPgLL9YI16zGBSf6YV3AUMbrP1oIgoPVO+t8FkfbtrFK/8L1svB1+HAqNIR9MHWcjGxlYnf5LUviY1/p8kFv55FaF4Zc+bsDeu11eW9WugYTZSkl1T5an171zn9g="

sudo: required
services:
- docker
before_install:
- docker pull f5devcentral/containthedocs:latest
install: true
script:
- ./scripts/docker-docs.sh ./scripts/test-docs.sh
- ./scripts/docker-docs.sh publish-docs-to-staging travis
deploy:
- provider: s3
  access_key_id: $AWS_ACCESS_KEY_ID
  secret_access_key: $AWS_SECRET_ACCESS_KEY
  bucket: $AWS_S3_BUCKET
  local_dir: docs/_build/html
  upload_dir: containers/v1
  region: us-west-2
  acl: public_read
  skip_cleanup: true
  on:
    branch: v1
    repo: F5Networks/f5-ci-docs
notifications:
  slack:
    secure: JPfhrjoJMHIolWfr+BggymfsuzcMq8hQrI6NgmbH9Op/1LnP7v0pzXabvePBX6jCzEpB6E/pizwrw/7D5r78+GD6gm2eiZ3NNupBSnVBwSQr51pfAH23RB1pafTgjyllrNJLAWia23ihB1oa+yj3ll/clOXke5o8436IJp+KRUk0q8F0HBbke7lLcGii/H2WqGZ9f6bqee0w6wVCjKL86o5EjbF/muBScw6npeGAyuShILsUybgQwJnCHG2Vn4o4L+ZzGga8FljhUJxEIx4v+m0wwTg7mIRrLQbZ0qCXQfc8hU858koa5+nVTt9Cj3fiLNIOtd0K6RujwTqdPTSMBrpbs7Gr1wzaejaKYsWUeJ1DG75MfpbHhTuUgNHNktgEVU6xiS8NL3RwsqfzU6vLbwe2e1EmAOQN6mTKkD+QU3dtJCPHr1tDydN5BSt+uVrd2EiGGuQMIfLGSPBJgCieu0dHgCAKOArKU0zn/gHJhwjxBALq2w0G75JR/wzz7agyQ4awCYZy866hLJPAMKtk+6Bl9qvmKfWBaXQDqrRpZBlhQqOKz2BL/wLPsP3/fVdubn98Ip3ZiTbXmxSRfNCCk4URsx1k9iWk9Qxs+oXIgBfvXuOJxAuwG7OYSbu6HCf18FbaZ2dmkU2hjicEL3BThHjWwf7V4aNdbtanJqkbh6s=
